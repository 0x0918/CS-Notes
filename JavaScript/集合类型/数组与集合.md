# 数组与集合

# Array

## 创建构造

## 索引遍历

## 添加与删除

# Transform | 转化

## map

```js
// Native
var array1 = [1, 2, 3];
var array2 = array1.map(function(value, index) {
  return value * 2;
});
console.log(array2);
// output: [2, 4, 6]
```

## reduce

```js
const array = [0, 1, 2, 3, 4];
const result = array.reduce(function(
  previousValue,
  currentValue,
  currentIndex,
  array
) {
  return previousValue + currentValue;
});
console.log(result); // output: 10 //reduceRight，正好方向相反
const array = [0, 1, 2, 3, 4];
const result = array.reduceRight(function(
  previousValue,
  currentValue,
  currentIndex,
  array
) {
  return previousValue - currentValue;
});
console.log(result); // output: -2
```

## filter

```js
// Native
function isBigEnough(value) {
  return value >= 10;
}
const array = [12, 5, 8, 130, 44];
const filtered = array.filter(isBigEnough);
console.log(filtered);
// output: [12, 130, 44]
```

## Distinct

```js
const array = [
  { id: 123, value: 'value1', name: 'Name1' },
  { id: 124, value: 'value2', name: 'Name1' },
  { id: 125, value: 'value3', name: 'Name2' },
  { id: 126, value: 'value4', name: 'Name2' }
];

// 利用 Set 进行转化
const names = [...new Set(array.map(a => a.name))];

// 利用数组记录
const names = array.reduce(function(a, b) {
  if (a.indexOf(b.name) == -1) {
    a.push(b.name);
  }
  return a;
}, []);
console.log(names);
```

# Set | 集合

集合也是一种常见的数据结构，在 ES6 中添加了对于集合的支持，其基本用法如下：

```js
// Sets
const s = new Set();
s.add('hello')
  .add('goodbye')
  .add('hello');
s.size === 2;
s.has('hello') === true;
```

## WeakSet

WeakSet 提供了一种自回收的存储方式：

```javascript
// Weak Sets
const ws = new WeakSet();
ws.add({ data: 42 });
// Because the added object has no other references, it will not be held in the set
```

> [Maps,Sets And Iterators in JavaScript](http://bjorn.tipling.com/maps-sets-and-iterators-in-javascript)
